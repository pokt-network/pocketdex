vendor-packages:
  - name: "@cosmjs"
    path: "vendor/cosmjs"
    install:
      required: true
      script: "yarn install"
    build:
      required: true
      script: "yarn build"
    pack:
      # @todo: probably pack should be implicit true
      required: true
      # Control which packages are packed/unpacked
      # Only process this specific package
      include:
        - "tendermint-rpc"
        - "stargate"
    aliases:
      "@cosmjs/tendermint-rpc": "@subql/x-cosmos-tendermint-rpc" # <â€” Specific Alias
    unpack:
      targets:
        - "$$ROOT"
        - "vendor/subql"
        - "vendor/subql-cosmos"
        # This is needed to do to the modification of SubQL to @cosmjs repository, but they modify the package name.
        #- "vendor/subql-cosmos/node_modules/@cosmjs/cosmwasm-stargate"
        #- "vendor/subql-cosmos/node_modules/@cosmjs/stargate"


  - name: "@subql"
    path: "vendor/subql"
    install:
      required: true
      script: "yarn install"
    build:
      required: true
      script: "yarn build"
    dependencies:
      - "@cosmjs"
    pack:
      required: true
      include: # nothing means all of them
        - "node-core"
    unpack:
      targets:
        - "vendor/subql-cosmos"
        - "$$ROOT"

  - name: "@subql-cosmos"
    path: "vendor/subql-cosmos"
    install:
      required: true
      script: "yarn install"
    build:
      required: true
      script: "yarn build"
    dependencies:
      - "@cosmjs"
      - "@subql"
    pack:
      required: true         # Default behavior of including all packages
    unpack:
      targets:
        - "$$ROOT"
